---
import { type CollectionEntry, getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";
import CharacterGrid from "../components/talkative/CharacterGrid.astro";
import CharacterGridHeader from "../components/talkative/CharacterGridHeader.astro";
import Preloader from "../components/talkative/Preloader.astro";
import { Image } from "astro:assets";
import { format } from "date-fns";
import Tags from "../components/Tags";
import path from "path";
import Layout from "../layouts/Layout.astro";

const title = "Talkative - All Characters";
const allCharacters = (await getCollection("characters")).sort(
  (a, b) => b.data.name.length - a.data.name.length
);
const charactersTotal = allCharacters.length;
---

<Layout title={title}>
  <section>
    <CharacterGridHeader characters={allCharacters} charactersTotal={charactersTotal} />
    <CharacterGrid characters={allCharacters} />
  </section>
</Layout>

<script src="../scripts/index.js"></script>
